<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<h1>Son s</h1>
<audio id="audioPlayer" loop src="./TMARK_Jingle sncf (ID 0396)_LS.mp3">
  <source src="./TMARK_Jingle sncf (ID 0396)_LS.mp3"></source>
</audio>

<button class="control" onclick="play('audioPlayer', this)">Play</button>
<button class="control" onclick="resume('audioPlayer')">Stop</button>

<audio id="audioPlayer2" src="./TMARK_Jingle sncf (ID 0396)_LS.mp3">
  <source src="./TMARK_Jingle sncf (ID 0396)_LS.mp3"></source>
</audio>

<button class="control" onclick="play('audioPlayer2', this)">Play</button>
<button class="control" onclick="resume('audioPlayer2')">Stop</button>

<script>

var pdfFilesDirectory = './train/';

// get auto-generated page 
$.ajax({url: pdfFilesDirectory}).then(function(html) {
    // create temporary DOM element
    var d = $(html);
    debugger
  var i = 0
  var b = document.body
  var r = d.find('a[href$=.mp3]')
    // find all links ending with .pdf 
    d.find('a[href$=.mp3]').each(function() {

      var son = document.createElement('audio') 
      son.id = i;
      var source = document.createElement('source')
      source.src = $(this).attr('href')
      son.append(source)
      b.append(son)

        // do what you want here 
    })
});

function play(idPlayer, control) {

var player = document.querySelector('#' + idPlayer);

if (player.paused) {
    player.play();
    control.textContent = 'Pause';
} else {
    player.pause();
    control.textContent = 'Play';
}
}



function resume(idPlayer) {
var player = document.querySelector('#' + idPlayer);
player.currentTime = 0;
player.pause();
}
</script>